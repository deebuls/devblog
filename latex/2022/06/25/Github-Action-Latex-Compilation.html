<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Compile Latex file using Github Action</h1><p class="page-description">Compile Latex file using Github Action</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-06-25T00:00:00-05:00" itemprop="datePublished">
        Jun 25, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/devblog/categories/#Latex">Latex</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#compiling-latex-documents-using-github-action">Compiling Latex documents using Github Action</a>
<ul>
<li class="toc-entry toc-h2"><a href="#using-makefile">Using Makefile</a></li>
</ul>
</li>
</ul><h1 id="compiling-latex-documents-using-github-action">
<a class="anchor" href="#compiling-latex-documents-using-github-action" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compiling Latex documents using Github Action</h1>

<p>GitHub Actions provides full access to the runner at your disposal, and one thing you may want to do is 
make commits in a workflow run and push it back up to GitHub automatically. I’m going to show a simple 
example where we run the date unix command, save the contents to a file, and push it back to the master branch.
Example workflow</p>

<h2 id="using-makefile">
<a class="anchor" href="#using-makefile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Makefile</h2>
<ul>
  <li>Use make file to automate all the actions which needs to be done after checking out the repo.</li>
  <li>Here is a Makefile for compiling latex file
```Makefile
filename=main</li>
</ul>

<p>pdf:
	mkdir -p build
	pdflatex –output-directory build ${filename}
	bibtex build/${filename}||true
	pdflatex –output-directory build ${filename}
	pdflatex –output-directory build ${filename}
	mv build/${filename}.pdf .</p>

<p>read:
	evince build/${filename}.pdf &amp;</p>

<p>clean:
	rm -f build/${filename}.{ps,pdf,log,aux,out,dvi,bbl,blg}</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Installing latex commands in Github Action
Inorder to use **pdflatex** in the ubuntu machine generted for compilation first you need to install the necessary packages 
in the ubuntu machine .


## Using git commit in GitHub Actions

The following is a workflow which on push will do the following:

    checkout the repo
    install latex dependency
    run make command and compile
    setup git config
    commit the changed file and push it back to master

```yml
name: Makefile CI

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    
    - name: Install dependencies
      run: sudo apt-get install texlive-latex-base texlive-fonts-recommended texlive-fonts-extra texlive-latex-extra
  
    - name: Compile
      run: make
      
    - name: setup git config
      run: |
        # setup the username and email. I tend to use 'GitHub Actions Bot' with no email by default
        git config user.name "GitHub Actions Bot"
        git config user.email "&lt;&gt;"

    - name: commit
      run: |
        # Stage the file, commit and push
        git add main.pdf
        git commit -m "new main pdf commit"
        git push origin master


</code></pre></div></div>

<p>[1] https://lannonbr.com/blog/2019-12-09-git-commit-in-actions/
[2] <a href="https://github.com/sthoduka/designing_datasets/tree/master/.github/workflows">Example github page</a></p>

  </div><a class="u-url" href="/devblog/latex/2022/06/25/Github-Action-Latex-Compilation.html" hidden></a>
</article>