<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Deebul Nair">
<meta name="dcterms.date" content="2023-02-14">
<meta name="description" content="Boxcox transformation">

<title>devblog - Approximating Cauchy with Gaussian: Boxcox transformation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">devblog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Approximating Cauchy with Gaussian: Boxcox transformation</h1>
                  <div>
        <div class="description">
          Boxcox transformation
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">distribution</div>
                <div class="quarto-category">loss</div>
                <div class="quarto-category">cauchy</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Deebul Nair </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 14, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#converting-a-cauchy-distirbution-to-nearby-gaussian" id="toc-converting-a-cauchy-distirbution-to-nearby-gaussian" class="nav-link active" data-scroll-target="#converting-a-cauchy-distirbution-to-nearby-gaussian">Converting a Cauchy distirbution to nearby Gaussian</a>
  <ul class="collapse">
  <li><a href="#using-boxcox-transformation" id="toc-using-boxcox-transformation" class="nav-link" data-scroll-target="#using-boxcox-transformation">Using Boxcox transformation</a></li>
  <li><a href="#solution" id="toc-solution" class="nav-link" data-scroll-target="#solution">Solution</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#create-3-cacuhy-distirbution-with-mean-10-and-scale-0.5-1-2" id="toc-create-3-cacuhy-distirbution-with-mean-10-and-scale-0.5-1-2" class="nav-link" data-scroll-target="#create-3-cacuhy-distirbution-with-mean-10-and-scale-0.5-1-2">Create 3 Cacuhy distirbution with mean 10 and scale 0.5, 1, 2</a>
  <ul class="collapse">
  <li><a href="#probplot-against-cauchy-distribution" id="toc-probplot-against-cauchy-distribution" class="nav-link" data-scroll-target="#probplot-against-cauchy-distribution">Probplot against cauchy distribution</a></li>
  <li><a href="#probplot-against-normal-distribution" id="toc-probplot-against-normal-distribution" class="nav-link" data-scroll-target="#probplot-against-normal-distribution">Probplot against normal distribution</a></li>
  </ul></li>
  <li><a href="#boxcox-conversion" id="toc-boxcox-conversion" class="nav-link" data-scroll-target="#boxcox-conversion">Boxcox conversion</a>
  <ul class="collapse">
  <li><a href="#transforming-with-yeojohnson-and-plotting-the-histogram" id="toc-transforming-with-yeojohnson-and-plotting-the-histogram" class="nav-link" data-scroll-target="#transforming-with-yeojohnson-and-plotting-the-histogram">Transforming with yeojohnson and plotting the histogram</a></li>
  </ul></li>
  <li><a href="#confidence-interval" id="toc-confidence-interval" class="nav-link" data-scroll-target="#confidence-interval">Confidence Interval</a></li>
  <li><a href="#comparing-interval" id="toc-comparing-interval" class="nav-link" data-scroll-target="#comparing-interval">Comparing interval</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><a href="https://colab.research.google.com/github/deebuls/devblog/blob/master/_notebooks/2023-02-14-Cauchy-Distribution-BoxCox-Gaussian.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>
<section id="converting-a-cauchy-distirbution-to-nearby-gaussian" class="level1">
<h1>Converting a Cauchy distirbution to nearby Gaussian</h1>
<p>Boxcox transformation data transforms the data to another scale and also makes it gaussian distirbution</p>
<section id="using-boxcox-transformation" class="level2">
<h2 class="anchored" data-anchor-id="using-boxcox-transformation">Using Boxcox transformation</h2>
<ol type="1">
<li>Plot the wikipedia cauchy distribution</li>
<li>Use boxcox and convert data to corresponding gaussian distribution</li>
<li>Boxcox requires data to be positive so we use an alternative method yeojohnson. Unlike boxcox, yeojohnson does not require the input data to be positive.</li>
</ol>
<p>For an application in uncertainty quantification we wanted to compare a Gaussian distribution with a Cauchy distribution.</p>
</section>
<section id="solution" class="level2">
<h2 class="anchored" data-anchor-id="solution">Solution</h2>
<ul>
<li>transform the cauchy distribution data to gaussian distirbuted data</li>
<li>get the 95% conditional intervals</li>
<li>transform the conditional intervals back to the cauchy data space.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<ul>
<li>Its transformation using the data and estimating the loc with boxcox (power transformations) to gaussian and back is not good for long tailed distirbutions like cauchy.</li>
<li>I am not sure what is wrong in the method below. Do message me in github if you find a way to do it.</li>
</ul>
<p>I written another blog on <a href="https://deebuls.github.io/devblog/statistics/uncertainty/2022/12/15/comparing-Normal-Laplace-Cacuhy-Distirbutions-Interval-score.html">how to compare cauchy and gaussian using interval score</a> .</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> cauchy</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-3-cacuhy-distirbution-with-mean-10-and-scale-0.5-1-2" class="level2">
<h2 class="anchored" data-anchor-id="create-3-cacuhy-distirbution-with-mean-10-and-scale-0.5-1-2">Create 3 Cacuhy distirbution with mean 10 and scale 0.5, 1, 2</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>loc <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>rv_1 <span class="op">=</span> cauchy(loc<span class="op">=</span>loc, scale<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>rv_2 <span class="op">=</span> cauchy(loc<span class="op">=</span>loc, scale<span class="op">=</span><span class="fl">0.01</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>rv_half <span class="op">=</span> cauchy(loc<span class="op">=</span>loc, scale<span class="op">=</span><span class="fl">0.001</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x<span class="op">=</span> np.linspace(rv_1.ppf(<span class="fl">0.1</span>), rv_1.ppf(<span class="fl">0.9</span>),  <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-outputid="769fc322-7d3b-4025-d678-e774469075e0" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>,figsize<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">9</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ax.plot(x, rv_half.pdf(x), c<span class="op">=</span><span class="st">'r'</span>, label<span class="op">=</span><span class="st">'0.5'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>ax.plot(x, rv_1.pdf(x), c<span class="op">=</span><span class="st">'g'</span>, label<span class="op">=</span> <span class="st">'1'</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>ax.plot(x, rv_2.pdf(x), c<span class="op">=</span><span class="st">'b'</span>, label<span class="op">=</span> <span class="st">'2'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>ax.legend()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>&lt;matplotlib.legend.Legend at 0x7fe00ddd0ac0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="2023-02-14-Cauchy-Distribution-BoxCox-Gaussian_files/figure-html/cell-5-output-2.png" class="img-fluid"></p>
</div>
</div>
<section id="probplot-against-cauchy-distribution" class="level3">
<h3 class="anchored" data-anchor-id="probplot-against-cauchy-distribution">Probplot against cauchy distribution</h3>
<div class="cell" data-outputid="8e5ef08f-f47f-4969-af2f-132a37742116" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>,<span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot 1 = Histogram</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#g1 = sns.histplot(data=df, x='Price_in_thousands', ax=g[0]);</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, rv <span class="kw">in</span> <span class="bu">enumerate</span>([rv_half, rv_1, rv_2]):</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> rv.rvs(<span class="dv">1000</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(x, dist<span class="op">=</span>stats.cauchy, plot<span class="op">=</span>ax[<span class="dv">0</span>][index])</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>][index].set_xlabel(<span class="st">''</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    g1 <span class="op">=</span> sns.histplot(data<span class="op">=</span>x, ax<span class="op">=</span>ax[<span class="dv">1</span>][index])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2023-02-14-Cauchy-Distribution-BoxCox-Gaussian_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="probplot-against-normal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="probplot-against-normal-distribution">Probplot against normal distribution</h3>
<p>Here we take the same cauchy samples but pass through the probplot with distribution set to Normal.</p>
<div class="cell" data-outputid="ee79134f-898f-451d-c812-d018a9a069ae" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, rv <span class="kw">in</span> <span class="bu">enumerate</span>([rv_half, rv_1, rv_2]):</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> rv.rvs(<span class="dv">1000</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(x, dist<span class="op">=</span>stats.norm, plot<span class="op">=</span>ax[index])</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    ax[index].set_xlabel(<span class="st">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2023-02-14-Cauchy-Distribution-BoxCox-Gaussian_files/figure-html/cell-8-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Boxcox conversion</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="boxcox-conversion" class="level2">
<h2 class="anchored" data-anchor-id="boxcox-conversion">Boxcox conversion</h2>
<p>Boxcox requires data to be positive so we use an alternative method yeojohnson. Unlike boxcox, yeojohnson does not require the input data to be positive.</p>
<p>Below plot 1. Row 1 is probability plot with cauchy distribution and cauchy data 2. Row 2 is probability ploy with gaussian distribution and cauchy data 3. Row 3 is probability plot with gaussian distirbution but transformed cauchy data</p>
<p>The likelihood we expected the method to give the maximum at the generated <strong>loc = 10 </strong> .</p>
<p>As you can see in the outputs the estimated loc are</p>
<table class="table">
<thead>
<tr class="header">
<th>true loc</th>
<th>true scale</th>
<th>estimated loc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10</td>
<td>0.5</td>
<td>4.79</td>
</tr>
<tr class="even">
<td>10</td>
<td>1.0</td>
<td>1.64</td>
</tr>
<tr class="odd">
<td>10</td>
<td>1.5</td>
<td>1.90</td>
</tr>
</tbody>
</table>
<p>As you can see the method i</p>
<div class="cell" data-outputid="df9f9fdf-ead0-4920-dcb7-07a19cf12494" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>,<span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">15</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, rv <span class="kw">in</span> <span class="bu">enumerate</span>([rv_half, rv_1, rv_2]):</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> rv.rvs(<span class="dv">1000</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(x, dist<span class="op">=</span>stats.cauchy, plot<span class="op">=</span>ax[<span class="dv">0</span>][index])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(x, dist<span class="op">=</span>stats.norm, plot<span class="op">=</span>ax[<span class="dv">1</span>][index])</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    xt, lmax_mle <span class="op">=</span> stats.yeojohnson(x)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (<span class="st">"Max likelihod yeojohnson loc </span><span class="sc">{}</span><span class="st"> scale </span><span class="sc">{}</span><span class="st"> transformed loc </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(loc, (index<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span>, lmax_mle))</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    lmax_pearsonr <span class="op">=</span> stats.yeojohnson_normmax(x)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (<span class="st">"Max likelihod yeojohnson pearsonrloc </span><span class="sc">{}</span><span class="st"> scale </span><span class="sc">{}</span><span class="st"> transformed loc </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(loc, (index<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span>, lmax_pearsonr))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(xt, dist<span class="op">=</span>stats.norm, plot<span class="op">=</span>ax[<span class="dv">2</span>][index])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Max likelihod yeojohnson loc 10 scale 0.5 transformed loc 62.755818121919134
Max likelihod yeojohnson pearsonrloc 10 scale 0.5 transformed loc 62.755818121919134
Max likelihod yeojohnson loc 10 scale 1.0 transformed loc 1.6403900928787156
Max likelihod yeojohnson pearsonrloc 10 scale 1.0 transformed loc 1.6403900928787156
Max likelihod yeojohnson loc 10 scale 1.5 transformed loc 3.064545766521091
Max likelihod yeojohnson pearsonrloc 10 scale 1.5 transformed loc 3.064545766521091</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="2023-02-14-Cauchy-Distribution-BoxCox-Gaussian_files/figure-html/cell-10-output-2.png" class="img-fluid"></p>
</div>
</div>
<section id="transforming-with-yeojohnson-and-plotting-the-histogram" class="level3">
<h3 class="anchored" data-anchor-id="transforming-with-yeojohnson-and-plotting-the-histogram">Transforming with yeojohnson and plotting the histogram</h3>
<div class="cell" data-outputid="ecde0d74-a7c7-47c9-c881-97a7f9dd35f0" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>,<span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot 1 = Histogram</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#g1 = sns.histplot(data=df, x='Price_in_thousands', ax=g[0]);</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, rv <span class="kw">in</span> <span class="bu">enumerate</span>([rv_half, rv_1, rv_2]):</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> rv.rvs(<span class="dv">1000</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    xt, lmax_mle <span class="op">=</span> stats.yeojohnson(x)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (<span class="st">"Max likelihod yeojohnson loc </span><span class="sc">{}</span><span class="st"> scale </span><span class="sc">{}</span><span class="st"> transformed loc </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(loc, (index<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span>, lmax_mle))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> stats.probplot(xt, dist<span class="op">=</span>stats.cauchy, plot<span class="op">=</span>ax[<span class="dv">0</span>][index])</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>][index].set_xlabel(<span class="st">''</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    g1 <span class="op">=</span> sns.histplot(data<span class="op">=</span>xt, ax<span class="op">=</span>ax[<span class="dv">1</span>][index])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Max likelihod yeojohnson loc 10 scale 0.5 transformed loc -10.978024153104741
Max likelihod yeojohnson loc 10 scale 1.0 transformed loc 0.75743891613401
Max likelihod yeojohnson loc 10 scale 1.5 transformed loc 4.505696516705801</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="2023-02-14-Cauchy-Distribution-BoxCox-Gaussian_files/figure-html/cell-11-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="confidence-interval" class="level2">
<h2 class="anchored" data-anchor-id="confidence-interval">Confidence Interval</h2>
<p>From a normal distribution, it becomes easier to calculate confidence intervals. If we know that 95% of our data will be within 2 standard deviations, then we can just consider what’s within those limits.</p>
<section id="confidence-interval-95" class="level4">
<h4 class="anchored" data-anchor-id="confidence-interval-95">Confidence Interval 95%</h4>
<p>For the last estimated likelihood</p>
<div class="cell" data-outputid="512aa94c-60c1-4c7f-fa1d-f728792dd950" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>upper <span class="op">=</span> lmax_mle <span class="op">+</span> <span class="fl">0.2</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>lower <span class="op">=</span> lmax_mle <span class="op">-</span> <span class="fl">0.2</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'The confidence interval for 95% level is between </span><span class="sc">{</span><span class="bu">round</span>(lower,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>upper<span class="sc">}</span><span class="ss">.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The confidence interval for 95% level is between -13.33 and -12.92936976907712.</code></pre>
</div>
</div>
<p>However, we must not forget that the values are transformed. So, what now?</p>
<p>There’s another good tool from scipy that is the inverse Box-Cox operation. In order to use that, you must import from scipy.special import inv_boxcox . Then, notice that when we transformed the data, we found the optimal lambda. Now it is time to use it for the inverse operation.</p>
<div class="cell" data-outputid="2c33c646-ac77-414f-a738-fe6812129e49" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the inverse Box-Cox</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.special <span class="im">import</span> inv_boxcox</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the inversion using the lambda value found on the prior transformation</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>upper_invert <span class="op">=</span> inv_boxcox(upper, lmax_mle)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>lower_invert <span class="op">=</span> inv_boxcox(lower, lmax_mle)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the result</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'The confidence interval for 95% level is between </span><span class="sc">{</span><span class="bu">round</span>(lower_invert,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span> <span class="bu">round</span>(upper_invert,<span class="dv">2</span>) <span class="sc">}</span><span class="ss">.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The confidence interval for 95% level is between 0.67 and 0.68.</code></pre>
</div>
</div>
<div class="cell" data-outputid="08dd3bcb-1a18-44c7-f486-080f1d71fa64" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, rv <span class="kw">in</span> <span class="bu">enumerate</span>([rv_half, rv_1, rv_2]):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> rv.rvs(<span class="dv">1000</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    xt, lmax_mle <span class="op">=</span> stats.yeojohnson(x)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    upper <span class="op">=</span> lmax_mle <span class="op">+</span> <span class="fl">0.2</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    lower <span class="op">=</span> lmax_mle <span class="op">-</span> <span class="fl">0.2</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply the inversion using the lambda value found on the prior transformation</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    upper_invert <span class="op">=</span> inv_boxcox(upper, lmax_mle)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    lower_invert <span class="op">=</span> inv_boxcox(lower, lmax_mle)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'The confidence interval for 95% level is between </span><span class="sc">{</span><span class="bu">round</span>(lower_invert,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span> <span class="bu">round</span>(upper_invert,<span class="dv">2</span>) <span class="sc">}</span><span class="ss">.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The confidence interval for 95% level is between 0.62 and 0.62.
The confidence interval for 95% level is between 2.09 and 2.33.
The confidence interval for 95% level is between 0.64 and 0.92.</code></pre>
</div>
</div>
</section>
</section>
<section id="comparing-interval" class="level2">
<h2 class="anchored" data-anchor-id="comparing-interval">Comparing interval</h2>
<div class="cell" data-outputid="1dc286b5-a439-4449-c356-d454896f8234">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>rv_1.interval(alpha<span class="op">=</span><span class="fl">0.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>(3.686248485324959, 16.31375151467504)</code></pre>
</div>
</div>
<div class="cell" data-outputid="ff473920-04af-484b-b530-072e4920320a">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>rv_2.interval(alpha<span class="op">=</span><span class="fl">0.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>(-2.6275030293500823, 22.62750302935008)</code></pre>
</div>
</div>
<div class="cell" data-outputid="037c35fa-3ed8-4d3a-be92-12c38e67e087">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>stats.norm(loc<span class="op">=</span><span class="dv">10</span>, scale<span class="op">=</span><span class="fl">0.1</span>).interval(alpha<span class="op">=</span><span class="fl">0.95</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>(9.804003601545995, 10.195996398454005)</code></pre>
</div>
</div>
<div class="cell" data-outputid="10cb08e7-be4b-4e01-ecb1-e5bb8653d15c">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>stats.cauchy(loc<span class="op">=</span><span class="dv">10</span>, scale<span class="op">=</span><span class="fl">0.01</span>).interval(alpha<span class="op">=</span><span class="fl">0.95</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>(9.872937952638253, 10.127062047361747)</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>